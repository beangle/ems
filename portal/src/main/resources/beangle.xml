<?xml version="1.0"?>
<beangle xmlns="http://beangle.github.io/schema/framework"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://beangle.github.io/schema/framework http://beangle.github.io/schema/framework-1.0.xsd">

  <ems app-name="platform-portal"/>

  <cdi>
    <module class="org.beangle.she.hibernate.OrmModule"/>

    <module class="org.beangle.ems.app.dao.DataSourceModule"/>
    <module class="org.beangle.ems.app.web.DefaultModule"/>
    <module class="org.beangle.ems.app.log.DefaultModule"/>
    <module class="org.beangle.ems.app.cache.DefaultModule"/>

    <module class="org.beangle.ems.app.cas.DefaultModule"/>
    <module class="org.beangle.ems.app.event.EventPublishModule"/>

    <module class="org.beangle.ems.portal.action.admin.ConfigModule"/>
    <module class="org.beangle.ems.portal.action.admin.SecurityModule"/>
    <module class="org.beangle.ems.portal.action.admin.BlobModule"/>
    <module class="org.beangle.ems.portal.action.admin.OAModule"/>
    <module class="org.beangle.ems.portal.action.admin.LogModule"/>
    <module class="org.beangle.ems.portal.action.admin.JobModule"/>
    <module class="org.beangle.ems.portal.action.user.DefaultModule"/>
    <module class="org.beangle.ems.portal.action.DefaultModule"/>

    <module class="org.beangle.ems.core.WebReconfigModule"/>
    <module class="org.beangle.ems.core.EventModule"/>
    <module class="org.beangle.ems.core.user.service.DefaultModule"/>
    <module class="org.beangle.ems.core.config.service.DefaultModule"/>
    <module class="org.beangle.ems.core.security.service.DefaultModule"/>
    <module class="org.beangle.ems.core.oa.service.DefaultModule"/>

    <module class="org.beangle.webmvc.view.freemarker.DefaultModule"/>
  </cdi>

  <mvc>
    <profile package="org.beangle.ems.portal.*.action">
      <url path="/" suffix="" style="seo"/>
      <interceptor name="web.Interceptor.hibernate"/>
      <interceptor name="web.Interceptor.security"/>
    </profile>

    <profile package="org.beangle.ems.portal.action">
      <url path="/" suffix="" style="seo"/>
      <interceptor name="web.Interceptor.hibernate"/>
      <interceptor name="web.Interceptor.security"/>
    </profile>
  </mvc>

</beangle>
